# Configuration d'exemple pour la plateforme SaaS Data Platform
# Copier ce fichier vers .env et adapter les valeurs selon votre environnement

# ==================== CONFIGURATION GÉNÉRALE ====================
DEBUG=false
LOG_LEVEL=INFO
ENVIRONMENT=development

# ==================== BASE DE DONNÉES ====================
POSTGRES_DB=data_warehouse
POSTGRES_USER=warehouse_user
POSTGRES_PASSWORD=warehouse_password
DATABASE_URL=postgresql://warehouse_user:warehouse_password@warehouse-service:5432/data_warehouse

# ==================== API DASHBOARD ====================
SECRET_KEY=your-secret-key-here-change-in-production
API_TITLE=SaaS Data Platform API
API_VERSION=1.0.0
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ==================== REDIS ====================
REDIS_URL=redis://redis-cache:6379
REDIS_PASSWORD=
REDIS_DB=0

# ==================== SERVICES ====================
NIFI_SERVICE_URL=http://nifi-service:8080
DBT_SERVICE_URL=http://dbt-service:8001
RECONCILIATION_SERVICE_URL=http://reconciliation-service:8002
QUALITY_CONTROL_SERVICE_URL=http://quality-control-service:8003
RCA_SERVICE_URL=http://rca-service:8004

# ==================== MONITORING ====================
PROMETHEUS_URL=http://prometheus:9090
GRAFANA_URL=http://grafana:3000
GRAFANA_ADMIN_PASSWORD=admin
PROMETHEUS_RETENTION=30d

# ==================== NGINX ====================
NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=1024
NGINX_CLIENT_MAX_BODY_SIZE=100M

# ==================== SÉCURITÉ ====================
CORS_ORIGINS=*
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=*
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# ==================== FICHIERS ====================
UPLOAD_MAX_SIZE=100MB
UPLOAD_DIRECTORY=uploads
EXPORT_DIRECTORY=exports
TEMP_DIRECTORY=temp

# ==================== ALERTES ====================
EMAIL_ENABLED=false
EMAIL_SMTP_SERVER=localhost
EMAIL_SMTP_PORT=587
EMAIL_USERNAME=
EMAIL_PASSWORD=
EMAIL_FROM=noreply@saas-platform.com

# ==================== ZINGG ====================
ZINGG_WORKSPACE=/tmp/zingg_workspace
ZINGG_MODEL_PATH=/tmp/zingg_models
DEFAULT_SIMILARITY_THRESHOLD=0.8

# ==================== SODA ====================
SODA_CONFIG_PATH=/app/soda_config
SODA_CHECKS_PATH=/app/soda_checks
COMPLETENESS_THRESHOLD=90.0
CONSISTENCY_THRESHOLD=95.0

# ==================== RCA ====================
MAX_ANALYSIS_DEPTH=5
CORRELATION_THRESHOLD=0.7
ANOMALY_CONTAMINATION=0.1

# ==================== DBT ====================
DBT_PROJECT_DIR=/app
DBT_PROFILES_DIR=/app/profiles
DBT_TARGET=dev

# ==================== KAFKA (OPTIONNEL) ====================
KAFKA_BOOTSTRAP_SERVERS=kafka:9092
KAFKA_TOPIC_CDR=cdr-events
KAFKA_TOPIC_ALERTS=alerts

# ==================== MINIO (OPTIONNEL) ====================
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123
MINIO_BUCKET_NAME=saas-data

# ==================== CONFIGURATION AVANCÉE ====================
# Pool de connexions base de données
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# Cache
CACHE_ENABLED=true
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# Performance
MAX_CONCURRENT_TASKS=10
TASK_TIMEOUT=600
BATCH_SIZE=1000

# Logs
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
LOG_FILE=logs/saas-platform.log
MAX_LOG_SIZE=10MB
BACKUP_COUNT=5

# ==================== CONFIGURATION PRODUCTION ====================
# Décommenter et adapter pour la production

# SSL/TLS
# SSL_CERT_PATH=/etc/ssl/certs/cert.pem
# SSL_KEY_PATH=/etc/ssl/private/key.pem
# FORCE_HTTPS=true

# Base de données production
# PROD_DATABASE_URL=postgresql://user:password@prod-db:5432/data_warehouse

# Monitoring production
# PROMETHEUS_RETENTION=90d
# GRAFANA_ADMIN_PASSWORD=secure-password

# Sécurité production
# SECRET_KEY=your-very-secure-secret-key-here
# CORS_ORIGINS=https://your-domain.com
# RATE_LIMIT_REQUESTS=50

# Backup
# BACKUP_SCHEDULE=0 2 * * *
# BACKUP_RETENTION_DAYS=30
# BACKUP_S3_BUCKET=saas-backups

# ==================== VARIABLES D'ENVIRONNEMENT SPÉCIFIQUES ====================
# Docker
COMPOSE_PROJECT_NAME=saas-platform
COMPOSE_FILE=docker-compose.yml

# Python
PYTHONPATH=/app
PYTHONDONTWRITEBYTECODE=1
PYTHONUNBUFFERED=1

# Timezone
TZ=Europe/Paris

# ==================== CONFIGURATION DE DÉVELOPPEMENT ====================
# Décommenter pour le développement

# DEBUG=true
# LOG_LEVEL=DEBUG
# HOT_RELOAD=true
# MOCK_EXTERNAL_SERVICES=true
